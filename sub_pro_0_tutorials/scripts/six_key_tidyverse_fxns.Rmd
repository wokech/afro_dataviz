# Six key tidyverse functions

## Albert Rapp

```{r}
library(tidyverse)
penguins <- palmerpenguins::penguins
```

### 1) Count

#### a) Count everything

```{r}
penguins |>
  count()
```

#### b) Count species

```{r}
penguins |>
  count(species)
```

#### c) Count species and sort

```{r}
penguins |>
  count(species, sort = TRUE)
```

#### d) Count species, island, and sort

```{r}
penguins |>
  count(species, island, sort = TRUE)
```

### 2) Select

#### a) Select various columns

```{r}
penguins |>
  select(flipper_length_mm, bill_length_mm, species)
```

#### b) Select using negative indexing (all but this column)

```{r}
penguins |>
  select(-flipper_length_mm)
```

#### c) Select from columns from a:b

```{r}
penguins |>
  select(bill_length_mm:body_mass_g)
```

### 3) Filter

#### a) Select certain rows with specific conditions

```{r}
penguins |>
  filter(bill_length_mm > 55)
```

#### b) Between specific numbers

```{r}
penguins |>
  filter(between(bill_length_mm, 55, 58))
```

#### c) How does it work?

```{r}
which(penguins$bill_length_mm > 55)
between(penguins$bill_length_mm, 55, 58)
```

### 4) Mutate

#### a) Make a new column with trnsformed column

```{r}
penguins |>
  mutate(scaled_bill_length_mm = scale(bill_length_mm), new = 1, new = new + 1) |>
  select(scaled_bill_length_mm, new)
```

### 5) Summarise

#### a) Statistical summary of data

```{r}
penguins |>
  summarise(
    mean_bill_length = mean(bill_length_mm, na.rm = TRUE),
    mean_flipper_length = mean(flipper_length_mm, na.rm = TRUE),
    .by = c(species, island)
  )
```

### 6) Arrange

```{r}
penguins |>
  summarise(
    mean_bill_length = mean(bill_length_mm, na.rm = TRUE),
    mean_flipper_length = mean(flipper_length_mm, na.rm = TRUE),
    .by = c(species, island)
  ) |>
  arrange(desc(mean_flipper_length))
```